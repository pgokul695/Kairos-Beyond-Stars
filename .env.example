# =============================================================================
# KAIROS — BEYOND STARS
# Environment Variables Reference
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# ⚠️  Never commit .env to version control.
#     Only commit .env.example (with placeholder values).
# =============================================================================


# ---------------------------------------------------------------------------
# AGENT — Database (PostgreSQL 16 + pgvector)
# ---------------------------------------------------------------------------

# Full async SQLAlchemy connection URL.
# Format: postgresql+asyncpg://<user>:<password>@<host>:<port>/<dbname>
DATABASE_URL=postgresql+asyncpg://kairos:password@localhost:5432/vectordb


# ---------------------------------------------------------------------------
# AGENT — Google AI (Gemma + Embedding)
# ---------------------------------------------------------------------------

# Google AI Platform API key. Used for both Gemma inference and text embeddings.
# Obtain from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your-google-ai-api-key-here

# The Gemma model to use for natural language generation.
# Default: gemma-2-9b-it
# Options: gemma-2-9b-it, gemma-2-27b-it, gemma-2-2b-it
GEMMA_MODEL=gemma-2-9b-it

# The Google text embedding model to use.
# Default: text-embedding-004
EMBEDDING_MODEL=text-embedding-004

# Embedding vector dimensionality. Must match the Vector(n) column in PostgreSQL.
# ⚠️  Changing this after ingestion requires a full re-ingest and schema migration.
# Default: 768
EMBEDDING_DIMENSIONS=768


# ---------------------------------------------------------------------------
# AGENT — Security
# ---------------------------------------------------------------------------

# Shared secret for Backend → Agent service-to-service calls.
# Sent as the X-Service-Token header. Must match AGENT_SERVICE_TOKEN in the Backend.
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SERVICE_TOKEN=your-strong-random-service-token-here

# Comma-separated list of allowed CORS origins.
# Include your Frontend dev server and all production domains.
ALLOWED_ORIGINS=https://kairos.gokulp.online,http://localhost:3000,http://localhost:5173


# ---------------------------------------------------------------------------
# AGENT — Application
# ---------------------------------------------------------------------------

# Runtime environment. Affects logging verbosity and debug features.
# Options: development, staging, production
APP_ENV=development

# Log level for the Agent application.
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO


# ---------------------------------------------------------------------------
# DOCKER — PostgreSQL (used by docker-compose.yml)
# ---------------------------------------------------------------------------

# These values are used by the Postgres service in docker-compose.yml.
# They must be consistent with the DATABASE_URL above.

POSTGRES_DB=vectordb
POSTGRES_USER=kairos
POSTGRES_PASSWORD=password

# Host port to expose PostgreSQL on the Docker host machine.
POSTGRES_PORT=5432


# ---------------------------------------------------------------------------
# BACKEND — Django
# ---------------------------------------------------------------------------

# Django secret key. MUST be changed in production.
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-django-secret-key-change-this-in-production

# Set to False in production. Exposes tracebacks if True.
DJANGO_DEBUG=True

# Base URL of the FastAPI Agent service. Used by the Backend to notify the
# Agent when a new user registers (POST /users/{uid}).
AGENT_BASE_URL=http://localhost:4021

# Must match the SERVICE_TOKEN in the Agent .env.
AGENT_SERVICE_TOKEN=your-strong-random-service-token-here


# ---------------------------------------------------------------------------
# BACKEND — Email (verification emails during signup)
# ---------------------------------------------------------------------------

# SMTP host for sending verification emails.
EMAIL_HOST=smtp.example.com

# SMTP port. 2525 is often used for local dev, 587 for TLS.
EMAIL_PORT=2525

# Credentials for the SMTP server.
EMAIL_HOST_USER=your-smtp-username
EMAIL_HOST_PASSWORD=your-smtp-password

# The "From" address on outgoing emails.
DEFAULT_FROM_EMAIL=noreply@kairos.example.com


# ---------------------------------------------------------------------------
# FRONTEND — Vite (optional, only needed when wiring live API calls)
# ---------------------------------------------------------------------------
# These are not consumed by Vite automatically; create a separate
# Frontend/beyond-stars/.env file and prefix variables with VITE_.

# VITE_BACKEND_URL=http://localhost:8000
# VITE_AGENT_URL=http://localhost:4021
